<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Determine Residential Status – Section 6</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      --bg:#0b1220;
      --card:#121b2e;
      --muted:#9fb0d0;
      --text:#e8eefc;
      --accent:#6aa7ff;
      --line:rgba(255,255,255,.10);
    }

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:linear-gradient(135deg,#081027,#0b1220);
      color:var(--text);
    }

    .wrap{
      max-width:1000px;
      margin:32px auto;
      padding:0 16px;
    }

    h1{
      margin:0 0 6px;
      text-align:center;
    }

    .sub{
      text-align:center;
      color:var(--muted);
      margin-bottom:22px;
      font-size:.95rem;
    }

    .card{
      background:rgba(18,27,46,.92);
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px;
      padding:16px;
      box-shadow:0 14px 40px rgba(0,0,0,.28);
      margin-bottom:16px;
    }

    .row{
      display:flex;
      flex-wrap:wrap;
      margin-bottom:12px;
    }

    .col{
      flex:1;
      min-width:260px;
      padding:6px;
    }

    label{
      display:block;
      color:var(--muted);
      font-size:.88rem;
      margin-bottom:6px;
    }

    input,select{
      width:100%;
      padding:10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.14);
      background:#0c1427;
      color:var(--text);
      outline:none;
    }

    input:focus,select:focus{
      border-color:rgba(106,167,255,.55);
      box-shadow:0 0 0 3px rgba(106,167,255,.18);
    }

    .buttons{
      text-align:center;
      margin-top:18px;
    }

    button{
      cursor:pointer;
      border:1px solid rgba(255,255,255,.14);
      background:linear-gradient(180deg, rgba(106,167,255,.22), rgba(106,167,255,.08));
      color:var(--text);
      padding:10px 18px;
      border-radius:12px;
      font-weight:650;
      margin:5px;
    }

    .output{
      margin-top:18px;
      padding:14px;
      background:rgba(12,20,39,.9);
      border-left:3px solid var(--accent);
      border-radius:10px;
    }

    .hidden{ display:none; }

    footer{
      text-align:center;
      color:var(--muted);
      font-size:.85rem;
      margin:28px auto;
    }

    footer .footCard{
      display:inline-block;
      background: rgba(18,27,46,.65);
      border:1px solid rgba(255,255,255,.08);
      border-radius:12px;
      padding:10px 14px;
    }
  </style>
</head>

<body>
<div class="wrap">

  <h1>Determine Residential Status</h1>
  <p class="sub">
    As per Section 6 of the Income-tax Act, 1961 (Individuals)
  </p>

  <div class="card">
    <h2>User Inputs</h2>

    <div class="row">
      <div class="col">
        <label>Financial Year</label>
        <select id="fy">
          <option value="">Select FY</option>
          <option>2020-21</option>
          <option>2021-22</option>
          <option>2022-23</option>
          <option>2023-24</option>
          <option>2024-25</option>
          <option>2025-26</option>
        </select>
      </div>
      <div class="col">
        <label>Citizenship</label>
        <select id="citizenship">
          <option value="">Select</option>
          <option value="indian">Indian Citizen</option>
          <option value="foreign">Foreign Citizen</option>
        </select>
      </div>
      <div class="col">
        <label>Person of Indian Origin (PIO)</label>
        <select id="pio">
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <label>Purpose of Visit / Departure</label>
        <select id="purpose">
          <option value="">Select</option>
          <option value="employment">Leaving India for Employment</option>
          <option value="crew">Crew of Indian Ship</option>
          <option value="visit">Visiting India</option>
          <option value="other">Other / Not Applicable</option>
        </select>
      </div>
      <div class="col">
        <label>Days in India during Relevant FY</label>
        <input type="number" id="daysFY" min="0">
      </div>
      <div class="col">
        <label>Days in India during Preceding 4 FYs (Total)</label>
        <input type="number" id="days4FY" min="0">
      </div>
    </div>

    <div class="row">
      <div class="col">
        <label>Days in India during Preceding 7 FYs (Total)</label>
        <input type="number" id="days7FY" min="0">
      </div>
      <div class="col">
        <label>No. of Years Resident in Preceding 10 FYs</label>
        <input type="number" id="yearsResident10" min="0" max="10">
      </div>
      <div class="col">
        <label>Total Indian Income (₹)</label>
        <input type="number" id="income" min="0">
      </div>
    </div>

    <div class="buttons">
      <button onclick="calculateStatus()">Calculate</button>
      <button onclick="resetForm()">Reset</button>
    </div>

    <div id="result" class="output hidden"></div>
  </div>
</div>

<footer>
  <div class="footCard">
    © <span id="yr"></span> <b>CA Navneet Singh Bagga</b>. All rights reserved.<br>
    This tool is for educational / estimation purposes only and does not constitute tax advice.
  </div>
</footer>

<script>
/* Footer year */
document.getElementById("yr").textContent = new Date().getFullYear();

/*
 Core Tax Logic – Section 6, Income-tax Act, 1961
 ------------------------------------------------
*/

function calculateStatus() {
    const citizenship = document.getElementById("citizenship").value;
    const pio = document.getElementById("pio").value;
    const purpose = document.getElementById("purpose").value;
    const daysFY = parseInt(document.getElementById("daysFY").value || 0);
    const days4FY = parseInt(document.getElementById("days4FY").value || 0);
    const days7FY = parseInt(document.getElementById("days7FY").value || 0);
    const yearsResident10 = parseInt(document.getElementById("yearsResident10").value || 0);
    const income = parseInt(document.getElementById("income").value || 0);

    let explanation = [];
    let resident = false;

    /* Basic 182-day rule */
    if (daysFY >= 182) {
        resident = true;
        explanation.push(
          "Stayed in India for ≥182 days during the relevant FY (Section 6(1)(a))."
        );
    } else {
        let threshold = 60;

        /* Exceptions to 60-day rule */
        if (citizenship === "indian" && (purpose === "employment" || purpose === "crew")) {
            threshold = 182;
            explanation.push(
              "60-day condition replaced with 182 days (Indian citizen leaving India for employment / crew of Indian ship)."
            );
        } else if ((citizenship === "indian" || pio === "yes") && purpose === "visit") {
            if (income > 1500000) {
                threshold = 120;
                explanation.push(
                  "120-day rule applied (Indian citizen / PIO visiting India with Indian income exceeding ₹15 lakh)."
                );
            } else {
                threshold = 182;
                explanation.push(
                  "60-day condition replaced with 182 days (Indian citizen / PIO visiting India)."
                );
            }
        }

        if (daysFY >= threshold && days4FY >= 365) {
            resident = true;
            explanation.push(
              `Stayed in India for ≥${threshold} days in the relevant FY and ≥365 days in the preceding 4 FYs (Section 6(1)(c)).`
            );
        } else {
            explanation.push(
              "Basic conditions of residence under Section 6 not satisfied."
            );
        }
    }

    let status = "Non-Resident (NR)";

    /* RNOR vs ROR */
    if (resident) {
        const cond1 = yearsResident10 >= 2;
        const cond2 = days7FY >= 730;

        if (cond1 && cond2) {
            status = "Resident and Ordinarily Resident (ROR)";
            explanation.push(
              "Additional conditions satisfied: Resident in ≥2 of preceding 10 FYs and stay ≥730 days in preceding 7 FYs (Section 6(6)(a))."
            );
        } else {
            status = "Resident but Not Ordinarily Resident (RNOR)";
            explanation.push(
              "One or both additional conditions for ROR not satisfied; classified as RNOR (Section 6(6))."
            );
        }
    }

    const resultDiv = document.getElementById("result");
    resultDiv.classList.remove("hidden");
    resultDiv.innerHTML = `
        <h2>Result</h2>
        <p><strong>Residential Status:</strong> ${status}</p>
        <p><strong>Legal Explanation (Section 6):</strong></p>
        <ul>${explanation.map(e => `<li>${e}</li>`).join("")}</ul>
    `;
}

function resetForm() {
    document.querySelectorAll("input, select").forEach(el => el.value = "");
    document.getElementById("pio").value = "no";
    document.getElementById("result").classList.add("hidden");
}
</script>


</body>
</html>
